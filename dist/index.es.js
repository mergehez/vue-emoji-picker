"use strict";import{ref as y,defineComponent as D,watch as U,withDirectives as X,openBlock as _,createElementBlock as z,normalizeClass as R,createElementVNode as M,toDisplayString as B,Fragment as F,renderList as O,normalizeStyle as P,createCommentVNode as T,vShow as he,computed as N,createBlock as pe,resolveDynamicComponent as ge,withCtx as fe,unref as A,mergeModels as Y,useModel as we,reactive as je,onMounted as ee,renderSlot as V,createVNode as G,withKeys as H,vModelText as ye}from"vue";const W=["1F3FA","1F3FB","1F3FC","1F3FD","1F3FE","1F3FF"],te={search:"Search",notfound:"No Emoji Found",categories:{search:"Search Results",recent:"Frequently Used",smileys:"Smileys & Emotion",people:"People & Body",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"}},ke={activity:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"/></svg>',custom:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><g transform="translate(2.000000, 1.000000)"><rect id="Rectangle" x="8" y="0" width="3" height="21" rx="1.5"></rect><rect id="Rectangle" transform="translate(9.843, 10.549) rotate(60) translate(-9.843, -10.549) " x="8.343" y="0.049" width="3" height="21" rx="1.5"></rect><rect id="Rectangle" transform="translate(9.843, 10.549) rotate(-60) translate(-9.843, -10.549) " x="8.343" y="0.049" width="3" height="21" rx="1.5"></rect></g></svg>',flags:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"/></svg>',foods:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"/></svg>',nature:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"/><path d="M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"/></svg>',objects:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"/><path d="M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"/></svg>',smileys:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"/><path d="M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"/></svg>',people:'<svg xmlns:svg="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"> <path id="path3814" d="m 3.3591089,21.17726 c 0.172036,0.09385 4.265994,2.29837 8.8144451,2.29837 4.927767,0 8.670894,-2.211883 8.82782,-2.306019 0.113079,-0.06785 0.182268,-0.190051 0.182267,-0.321923 0,-3.03119 -0.929494,-5.804936 -2.617196,-7.810712 -1.180603,-1.403134 -2.661918,-2.359516 -4.295699,-2.799791 4.699118,-2.236258 3.102306,-9.28617162 -2.097191,-9.28617162 -5.1994978,0 -6.7963103,7.04991362 -2.097192,9.28617162 -1.6337821,0.440275 -3.1150971,1.396798 -4.2956991,2.799791 -1.687703,2.005776 -2.617196,4.779522 -2.617196,7.810712 1.2e-6,0.137378 0.075039,0.263785 0.195641,0.329572 z M 8.0439319,5.8308783 C 8.0439309,2.151521 12.492107,0.30955811 15.093491,2.9109411 17.694874,5.5123241 15.852911,9.9605006 12.173554,9.9605 9.8938991,9.9579135 8.0465186,8.1105332 8.0439319,5.8308783 Z m -1.688782,7.6894977 c 1.524535,-1.811449 3.5906601,-2.809035 5.8184041,-2.809035 2.227744,0 4.293869,0.997586 5.818404,2.809035 1.533639,1.822571 2.395932,4.339858 2.439152,7.108301 -0.803352,0.434877 -4.141636,2.096112 -8.257556,2.096112 -3.8062921,0 -7.3910861,-1.671043 -8.2573681,-2.104981 0.04505,-2.765017 0.906968,-5.278785 2.438964,-7.099432 z" /> <path id="path3816" d="M 12.173828 0.38867188 C 9.3198513 0.38867187 7.3770988 2.3672285 6.8652344 4.6308594 C 6.4218608 6.5916015 7.1153562 8.7676117 8.9648438 10.126953 C 7.6141249 10.677376 6.3550511 11.480944 5.3496094 12.675781 C 3.5629317 14.799185 2.6015625 17.701475 2.6015625 20.847656 C 2.6015654 21.189861 2.7894276 21.508002 3.0898438 21.671875 C 3.3044068 21.788925 7.4436239 24.039062 12.173828 24.039062 C 17.269918 24.039062 21.083568 21.776786 21.291016 21.652344 C 21.57281 21.483266 21.746097 21.176282 21.746094 20.847656 C 21.746094 17.701475 20.78277 14.799185 18.996094 12.675781 C 17.990455 11.480591 16.733818 10.675362 15.382812 10.125 C 17.231132 8.7655552 17.925675 6.5910701 17.482422 4.6308594 C 16.970557 2.3672285 15.027805 0.38867188 12.173828 0.38867188 z M 12.792969 2.3007812 C 13.466253 2.4161792 14.125113 2.7383941 14.695312 3.3085938 C 15.835712 4.4489931 15.985604 5.9473549 15.46875 7.1953125 C 14.951896 8.4432701 13.786828 9.3984378 12.173828 9.3984375 C 10.197719 9.3961954 8.607711 7.806187 8.6054688 5.8300781 C 8.6054683 4.2170785 9.5606362 3.0520102 10.808594 2.5351562 C 11.432573 2.2767293 12.119685 2.1853833 12.792969 2.3007812 z M 12.173828 11.273438 C 14.233647 11.273438 16.133674 12.185084 17.5625 13.882812 C 18.93069 15.508765 19.698347 17.776969 19.808594 20.283203 C 18.807395 20.800235 15.886157 22.162109 12.173828 22.162109 C 8.7614632 22.162109 5.6245754 20.787069 4.5390625 20.265625 C 4.6525896 17.766717 5.4203315 15.504791 6.7851562 13.882812 C 8.2139827 12.185084 10.11401 11.273438 12.173828 11.273438 z " /> </svg>',places:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"/><path d="M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"/></svg>',recent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"/><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"/></svg>',symbols:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"/></svg>',search:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="m21 21l-4.343-4.343m0 0A8 8 0 1 0 5.343 5.343a8 8 0 0 0 11.314 11.314"/></svg>'};let J="emart-vue3";const oe=typeof window<"u"&&"localStorage"in window;let ae;const ie=()=>ae??(ae=Ce()),Ce=()=>{const s=y(),m=y();function u(e,t){if(m.value)m.value(e,t);else if(oe)try{window.localStorage[`${J}.${e}`]=JSON.stringify(t)}catch{}}return{setHandlers:function(e){e||(e={}),s.value=e.getter,m.value=e.setter},setNamespace:function(e){J=e},update:function(e){for(let t in e)u(t,e[t])},set:u,get:function(e){if(s.value)return s.value(e);if(oe)try{const t=window.localStorage[`${J}.${e}`];if(t)return JSON.parse(t)}catch{return}}}},Ee={1:"apple",2:"google",3:"twitter",4:"facebook"},se={name:"a",unified:"b",non_qualified:"c",img_apple:"d",img_google:"e",img_twitter:"f",img_facebook:"h",image:"i",keywords:"j",sheet:"k",emoticons:"l",text:"m",short_names:"n",added_in:"o",subcategory:"s",skin_variations:"v"};function re(s,m){const u={};for(let e in s){const t=s[e];let c=t;e in m&&(c=m[e]),typeof c=="object"&&(c=re(t,c)),u[e]=c}return u}function Se(){if(typeof document>"u")return 0;const s=document.createElement("div");s.style.width="100px",s.style.height="100px",s.style.overflow="scroll",s.style.position="absolute",s.style.top="-9999px",document.body.appendChild(s);const m=s.offsetWidth-s.clientWidth;return document.body.removeChild(s),m}const ne=s=>{const m=new Set;let u="";const e=(t,c)=>{t?.forEach(l=>{(c?l.split(/\s+/):[l]).forEach(E=>{E=E.toLowerCase(),m.has(E)||(m.add(E),u+=E+",")})})};return e(s.short_names,!0),e([s.name],!0),e(s.keywords,!1),e(s.emoticons,!1),u};function I(s,m){return{row:s,col:m}}function le(s,m,u){const e=[];let t=0,c=0;for(let l=0;l<s.length;l++){let E=function(){return e[(s.length-1+l)%s.length]},k=function(){return e[(l+1)%s.length]};const x=s[l],i=Math.ceil(x/u),g=Array.from({length:i},(C,r)=>r<i-1?u:x%u||u),S={id:l,before:t,total:x,rows:g,fixCol:({row:C,col:r})=>r>=g[C]?g[C]-1:r,getLastRowCol:()=>{const C=g.length-1;return I(C,g[C]-1)},moveUp:({row:C,col:r})=>{let v=C-1;if(v>=0)return[S,I(v,r)];const d=E(),w=d.rows.length-1;return d.rows[w]<=r?d.moveUp(I(w,r)):[d,I(w,d.fixCol(I(w,r)))]},moveDown:({row:C,col:r})=>{let v=C+1;if(v<g.length&&g[v]>r)return[S,I(v,r)];const d=k();return[d,I(0,d.fixCol(I(0,r)))]},moveLeft:({row:C,col:r})=>{let v=r-1;if(v>=0)return[S,I(C,v)];if(C==0){const d=E();return[d,d.getLastRowCol()]}return S.moveUp(I(C-1,(g[C-1]-1+u)%u))},moveRight:({row:C,col:r})=>{let v=r+1;return v<g[C]?[S,I(C,v)]:C==g.length-1?[k(),I(0,0)]:S.moveDown(I(C+1,0))}};e.push(S),c+=g.length,t+=x}return e.length>=m.groupIndex&&(m.col=0,m.row=0,m.groupIndex=0),{allGroups:e,currentGroup:e[m.groupIndex]}}const K=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart","hankey"];function ce(){const s=y({}),m=y(!1),u=y({}),e=ie();function t(){m.value=!0,s.value=e.get("frequently")||{}}return{frequently:s,add:function(c){m.value||t();const{id:l}=c;s.value[l]=(s.value[l]||0)+1,e.set("last",l),e.set("frequently",s.value)},get:function(c){if(m.value||t(),Object.keys(s.value).length===0){const x=[],i=Math.min(c,K.length);for(let g=0;g<i;g++)u.value[K[g]]=parseInt(((i-g)/4).toString(),10)+1,x.push(K[g]);return x}const l=Object.keys(s.value);l.sort((x,i)=>s.value[i]-s.value[x]);const E=l.slice(0,c),k=e.get("last");return k&&!E.includes(k)&&(E.pop(),E.push(k)),E}}}let Z;const Q=s=>(Z??(Z=xe(s)),{create:Z.create,toWatch:[()=>s.set,()=>s.native,()=>s.fallback,()=>s.emojiTooltip,()=>s.emojiSize,()=>s.activeSkin]}),xe=s=>({create:m=>{var u;const e=m.getSkin(s.activeSkin),t=e._data&&(e._data.has===void 0||e._data.has.includes(s.set)),c=e.custom?"custom":s.native?"native":t?"image":"fallback";return{emoji:e,canRender:!!e.custom||s.native||t||!!s.fallback,cssClass:["emoji-set-"+s.set,"emoji-type-"+c],cssStyle:(()=>{let l={};return e.custom?l={backgroundImage:"url("+e.imageUrl+")",backgroundSize:"100%",width:s.emojiSize+"px",height:s.emojiSize+"px"}:t&&!s.native&&(l={backgroundPosition:e.getPosition()}),s.emojiSize&&(l=s.native?Object.assign(l,{fontSize:Math.round(.95*s.emojiSize*10)/10+"px"}):Object.assign(l,{width:s.emojiSize+"px",height:s.emojiSize+"px"})),l})(),content:e.custom?"":s.native?e.native:t?"":(u=s.fallback)==null?void 0:u.call(s,e),title:s.emojiTooltip?e.short_name:void 0,ariaLabel:e.ariaLabel()}}}),be=["aria-label"],_e={class:"emart-category-label"},Me={class:"emart-category-label"},Ae=["aria-label","data-title","title","onMouseenter","onMouseleave","onClick"],ue=D({__name:"CategoryEmojis",props:{category:{},index:{},pickerUtils:{},state:{}},setup(s){const m=s,u=Q(m.state),e=y(m.category.emojis.map(t=>u.create(t)));return U([...u.toWatch,()=>m.category.emojis],()=>{e.value=m.category.emojis.map(t=>u.create(t))}),(t,c)=>t.category.emojis&&(t.category.name==="Search"||!t.state.searchEmojis&&t.category.emojis.length>0)?X((_(),z("section",{key:0,ref:l=>t.state.categoryRefs[m.index]=l,class:R({"emart-category":!0,"emart-no-results":!t.category.emojis.length}),"aria-label":t.state.mergedI18n.categories[t.category.id]},[M("div",_e,[M("h3",Me,B(t.state.mergedI18n.categories[t.category.id]),1)]),(_(!0),z(F,null,O(e.value,(l,E)=>{var k;return _(),z(F,{key:l.emoji.id},[l.canRender?(_(),z("button",{key:l.emoji.id,"aria-label":l.ariaLabel,role:"option","aria-selected":"false","aria-posinset":"1","aria-setsize":"1812",type:"button","data-title":l.emoji.short_name,title:l.title,class:R(["emart-emoji",{"emart-emoji-selected":((k=t.state.previewEmoji)==null?void 0:k.id)===l.emoji.id&&t.state.previewEmojiCategoryId===t.category.id}]),onMouseenter:x=>t.pickerUtils.onEmojiEnter(t.index,E,l.emoji),onMouseleave:x=>t.pickerUtils.onEmojiLeave(l.emoji),onClick:x=>t.pickerUtils.onEmojiClick(l.emoji)},[M("span",{class:R(l.cssClass),style:P(l.cssStyle)},B(l.content),7)],42,Ae)):T("",!0)],64)}),128))],10,be)),[[he,t.state.infiniteScroll||t.category==t.state.activeCategory||t.state.isSearching]]):T("",!0)}}),me=D({__name:"Emoji",props:{emoji:{},emojiId:{},state:{},data:{}},emits:["click","mouseenter","mouseleave"],setup(s,{emit:m}){const u=s,e=m;if(u.emojiId&&!u.data)throw new Error("Emoji index is required when emojiId is provided");if(!u.emojiId&&!u.emoji)throw new Error("Either emoji or emojiId is required");const t=N(()=>u.emojiId?u.data.findEmoji(u.emojiId):u.emoji),c=Q(u.state),l=y(c.create(t.value));return U([...c.toWatch,t],()=>{l.value=c.create(t.value)}),(E,k)=>l.value.canRender?(_(),pe(ge(l.value.canRender?"span":"div"),{key:0,title:l.value.title,"aria-label":l.value.ariaLabel,"data-title":l.value.title,class:"emart-emoji",onClick:k[0]||(k[0]=x=>e("click",t.value)),onMouseleave:k[1]||(k[1]=x=>e("mouseleave",t.value)),onMouseenter:k[2]||(k[2]=x=>e("mouseenter",t.value))},{default:fe(()=>[M("span",{class:R(l.value.cssClass),style:P(l.value.cssStyle)},B(l.value.content),7)]),_:1},40,["title","aria-label","data-title"])):T("",!0)}}),ze={class:"emart-bar emart-bar-anchors"},Ie={role:"tablist",class:"emart-anchors"},Le=["aria-label","aria-selected","disabled","data-title","onClick"],Re=["innerHTML"],de=D({__name:"Anchors",props:{categories:{},state:{},pickerUtils:{}},setup:s=>(m,u)=>(_(),z("div",ze,[M("div",Ie,[(_(!0),z(F,null,O(m.categories,e=>(_(),z("button",{key:e.id,role:"tab",type:"button","aria-label":e.name,"aria-selected":e.id==m.state.activeCategory.id,class:R({"emart-anchor":!0,"emart-anchor-selected":e.id==m.state.activeCategory.id}),disabled:m.state.searchEmojis&&e.id!="search",style:P({color:e.id==m.state.activeCategory.id?m.state.color:"",opacity:m.state.searchEmojis&&e.id!="search"?.5:1}),"data-title":m.state.mergedI18n.categories[e.id],onClick:t=>m.pickerUtils.onAnchorClick(e)},[M("span",{"aria-hidden":"true",innerHTML:A(ke)[e.id]},null,8,Re),M("span",{"aria-hidden":"true",class:"emart-anchor-bar",style:P({backgroundColor:m.state.color})},null,4)],14,Le))),128))])]))}),Fe={class:"emart-search"},Ue=["placeholder"],Be={id:"emart-list",ref:"scrollContent",role:"listbox","aria-expanded":"true"},Te={key:0,class:"emart-bar emart-bar-preview"},Oe={class:"emart-p"},Pe={class:"emart-p-emoji"},He={class:"emart-p-data"},qe={key:0,class:"emart-title-label"},De={class:"emart-p-name"},Ve={class:"emart-p-shortnames"},$e={class:"emart-p-emoticons"},Ne={key:0,class:"emart-p-skins"},Ge=["onClick"],ve=D({__name:"Picker",props:Y({perLine:{default:9},maxSearchResults:{default:75},emojiSize:{default:24},title:{default:""},emoji:{default:"grinning"},color:{default:"#ae65c5"},set:{default:"twitter"},skin:{},defaultSkin:{default:1},native:{type:Boolean},emojiTooltip:{type:Boolean},autoFocus:{type:Boolean},i18n:{default:()=>te},showPreview:{type:Boolean,default:!0},showSearch:{type:Boolean,default:!0},showCategories:{type:Boolean,default:!0},showSkinTones:{type:Boolean,default:!0},infiniteScroll:{type:Boolean,default:!0},pickerStyles:{default:()=>({})},data:{},fallback:{}},{query:{type:String,default:""},queryModifiers:{}}),emits:Y(["select","skin-change"],["update:query"]),setup(s,{emit:m}){const u=we(s,"query"),e=s,t=m;let c=y([...e.data.categories].filter(o=>o.emojis.length));c.value[0].first=!0;const l=ie(),E=function(){let o;return(a,n)=>{o&&clearTimeout(o),o=setTimeout(()=>{((h,j)=>{for(let p=0,f=c.value.length;p<f;p++){const b=c.value[p],L=i.categoryRefs[p];if(L&&L.offsetTop-50>h)break;j=b}i.activeCategory=j})(a,n)},20)}}(),k=function(o){let a=o;const n=a.pos;let{allGroups:h,currentGroup:j}=le(a.groups,n,a.perLine);function p(f,b,L=!1){j=f,n.groupIndex=j.id,n.row=b.row,n.col=b.col,L||a.onChange(n)}return{reinit(f){a=f;const b=le(a.groups,a.pos,a.perLine);h=b.allGroups,j=b.currentGroup,p(j,a.pos)},updatePos:(f,b=!0)=>{p(h[f.groupIndex],f,b)},up:()=>{const[f,b]=j.moveUp(n);p(f,b)},down:()=>{const[f,b]=j.moveDown(n);p(f,b)},left:()=>{const[f,b]=j.moveLeft(n);p(f,b)},right:()=>{const[f,b]=j.moveRight(n);p(f,b)}}}({pos:{groupIndex:0,row:0,col:0},perLine:e.perLine,groups:c.value.map(o=>o.emojis.length).filter(Boolean),onChange({groupIndex:o,row:a,col:n}){i.previewEmojiCategoryIdx=o,i.previewEmojiCategoryId=c.value[o].id,i.previewEmoji=c.value[o].emojis[a*e.perLine+n],setTimeout(()=>{const h=i.scrollRef,j=h.querySelector(".emart-emoji-selected");if(j){const p=j.getBoundingClientRect(),f=h.getBoundingClientRect();p.top<f.top?h.scrollTop-=f.top-p.top:p.bottom>f.bottom&&(h.scrollTop+=p.bottom-f.bottom)}},50)}}),x=ce(),i=je({filteredCategories:c,showSkinTones:e.showSkinTones,color:e.color,title:e.title,set:e.set,native:e.native,emojiTooltip:e.emojiTooltip,infiniteScroll:e.infiniteScroll,emojiSize:e.emojiSize,fallback:e.fallback,waitingForPaint:!1,previewEmoji:void 0,firstCategory:c.value[0],activeCategory:c.value[0],searchEmojis:void 0,previewEmojiCategoryIdx:void 0,previewEmojiCategoryId:void 0,activeSkin:e.skin||l.get("skin")||e.defaultSkin,categoryRefs:[],scrollRef:void 0,mergedI18n:N(()=>re(te,e.i18n)),isSearching:!1,idleEmoji:N(()=>{try{return e.data.emoji(e.emoji)}catch{return e.data.firstEmoji()}})}),g=function(){const o={reset(){c.value=[...e.data.categories].filter(a=>a.emojis.length),c.value[0].first=!0,i.waitingForPaint=!1,i.set=e.set,i.previewEmoji=void 0,i.firstCategory=c.value[0],i.activeCategory=i.firstCategory,i.searchEmojis=void 0,i.previewEmojiCategoryIdx=void 0,i.previewEmojiCategoryId=void 0,i.scrollRef.scrollTop=0,i.activeSkin=e.skin||l.get("skin")||e.defaultSkin},onScroll(){const a=i.scrollRef.scrollTop;let n=c.value[0];a==0?i.activeCategory=n:E(a,n)},onAnchorClick(a){if(i.searchEmojis)return;const n=c.value.findIndex(j=>j.id===a.id),h=i.categoryRefs[n];e.infiniteScroll&&h&&(i.scrollRef.scrollTop=a.first?0:h.offsetTop),i.activeCategory=c.value[n]},onSearch(a){a?(i.searchEmojis=e.data.search(a,e.maxSearchResults),i.previewEmojiCategoryIdx=void 0,i.previewEmojiCategoryId=void 0,i.previewEmoji=c.value[0].emojis[0]):i.searchEmojis=void 0},onEmojiClick(a){t("select",a),x.add(a)},onEmojiEnter(a,n,h){i.previewEmoji=h,i.previewEmojiCategoryIdx=a,i.previewEmojiCategoryId=c.value[a].id;const j=e.perLine;k.updatePos({groupIndex:i.previewEmojiCategoryIdx,col:n%j||j,row:Math.floor(n/j)})},onEmojiLeave(a){setTimeout(()=>{i.previewEmoji===a&&(i.previewEmoji=void 0)},50)},onArrowLeft:()=>k.left(),onArrowRight:()=>k.right(),onArrowDown:()=>k.down(),onArrowUp:()=>k.up()};return U(()=>[e.data,e.perLine,e.set,e.maxSearchResults,e.infiniteScroll],()=>{o.reset()}),U(u,a=>{a=a||"",o.onSearch(a)}),U(()=>i.searchEmojis,()=>{i.searchEmojis?c.value.find(a=>a.id==="search")?c.value[0].emojis=i.searchEmojis:c.value.unshift({id:"search",name:"Search",emojis:i.searchEmojis}):c.value=c.value.filter(a=>a.id!=="search"),i.firstCategory=c.value[0],i.activeCategory=i.firstCategory}),o}(),S=(ee(()=>{const o=document.querySelector("input");e.autoFocus&&o&&o.focus()}),{onEnter:function(){i.previewEmoji&&g.onEmojiClick(i.previewEmoji)},onArrowLeft:function(o){var a,n;const h=(a=i.previewEmoji)==null?void 0:a.id;g.onArrowLeft(),o&&((n=i.previewEmoji)==null?void 0:n.id)!==h&&o.preventDefault()},onArrowRight:g.onArrowRight,onArrowUp:function(o){g.onArrowUp(),o.preventDefault()},onArrowDown:g.onArrowDown});U(()=>e.skin,o=>{v(o)});const C=()=>{i.waitingForPaint=!1,g.onScroll()};function r(){i.infiniteScroll&&!i.waitingForPaint&&(i.waitingForPaint=!0,window.requestAnimationFrame(C))}function v(o){i.activeSkin=o,l.update({skin:o}),t("skin-change",o)}const d=y();ee(()=>{var o;e.autoFocus&&((o=d.value)==null||o.focus())});const w=y(!1);return(o,a)=>(_(),z("section",{class:"emart emart-static",style:P({width:o.perLine*(o.emojiSize+12)+12+2+A(Se)()+"px",...o.pickerStyles})},[o.showCategories?V(o.$slots,"tabs",{key:0,pickerUtils:A(g)},()=>[G(de,{categories:A(c),state:i,pickerUtils:A(g)},null,8,["categories","state","pickerUtils"])]):T("",!0),o.showSearch?V(o.$slots,"search",{key:1,searchUtils:A(S),query:u.value},()=>[M("div",Fe,[X(M("input",{type:"text",id:"emart-search-input",ref_key:"refSearchInput",ref:d,placeholder:i.mergedI18n.search,"aria-label":"Search for an emoji","aria-describedby":"emart-search-description",onKeydown:[a[0]||(a[0]=H((...n)=>A(S).onArrowLeft&&A(S).onArrowLeft(...n),["left"])),a[1]||(a[1]=H((...n)=>A(S).onArrowRight&&A(S).onArrowRight(...n),["right"])),a[2]||(a[2]=H((...n)=>A(S).onArrowDown&&A(S).onArrowDown(...n),["down"])),a[3]||(a[3]=H((...n)=>A(S).onArrowUp&&A(S).onArrowUp(...n),["up"])),a[4]||(a[4]=H((...n)=>A(S).onEnter&&A(S).onEnter(...n),["enter"]))],"onUpdate:modelValue":a[5]||(a[5]=n=>u.value=n)},null,40,Ue),[[ye,u.value]]),a[6]||(a[6]=M("span",{class:"hidden",id:"emoji-picker-search-description"}," Use the left, right, up and down arrow keys to navigate the emoji search results. ",-1))])]):T("",!0),M("div",{role:"tabpanel",class:"emart-scroll",ref:n=>i.scrollRef=n,onScroll:r},[M("div",Be,[(_(!0),z(F,null,O(A(c),(n,h)=>V(o.$slots,"category",{key:n.id,pickerUtils:A(g),category:n,index:h},()=>[G(ue,{category:n,index:h,pickerUtils:A(g),state:i},null,8,["category","index","pickerUtils","state"])])),128))],512)],544),V(o.$slots,"preview",{state:i,emoji:i.previewEmoji??i.idleEmoji,onSkinChange:v},()=>[o.showPreview&&i.idleEmoji?(_(),z("div",Te,[M("div",Oe,[M("div",Pe,[G(me,{state:i,emoji:i.previewEmoji??i.idleEmoji,data:o.data},null,8,["state","emoji","data"])]),M("div",He,[i.previewEmoji?(_(),z(F,{key:1},[M("div",De,B(i.previewEmoji.name),1),M("div",Ve,[(_(!0),z(F,null,O(i.previewEmoji.short_names,n=>(_(),z("span",{key:n,class:"emart-p-shortname"},":"+B(n)+":",1))),128))]),M("div",$e,[(_(!0),z(F,null,O(i.previewEmoji.emoticons,n=>(_(),z("span",{key:n,class:"emart-p-emoticon"},B(n),1))),128))])],64)):(_(),z("span",qe,B(o.title),1))]),o.showSkinTones?(_(),z("div",Ne,[M("div",{class:R({"emart-skin-swatches":!0,"emart-skin-swatches-opened":w.value})},[(_(!0),z(F,null,O(A(W).length,n=>(_(),z("span",{key:n,class:R({"emart-skin-swatch":!0,"emart-skin-swatch-selected":i.activeSkin==n})},[M("span",{class:R("emart-skin emart-skin-tone-"+n),onClick:h=>(j=>{w.value&&(i.activeSkin=j),w.value=!w.value})(n)},null,10,Ge)],2))),128))],2)])):T("",!0)])])):T("",!0)])],4))}});function $(s){var m;const u=y(Object.assign({},s)),e=y(void 0);if(u.value.skin_variations){e.value=[];for(const o in W){let a=W[o],n=u.value.skin_variations[a],h=Object.assign({},s);Object.assign(h,n),delete h.skin_variations,h.skin_tone=parseInt(o)+1,e.value.push($(h))}}const t=u.value,c=y(t.id||t.short_names[0]),l=y(window.crypto.getRandomValues(new Uint32Array(1))[0].toString(16)),E=y(t.name),k=y(`:${t.id||t.short_names[0]}:`),x=y(t.emoticons),i=y(t.custom),g=y(t.imageUrl),S=y((m=t.unified)==null?void 0:m.toLowerCase()),C=y(t.skin_tone||(t.skin_variations?1:void 0)),r=y(function(o){const a=o.split("-").map(n=>`0x${n}`);return String.fromCodePoint(...a.map(n=>Number(n)))}(t.unified)),v=y(t.short_names),d=y(t.short_names[0]),w={name:E.value,colons:k.value,emoticons:x.value,custom:i.value,imageUrl:g.value,unified:S.value,skin:C.value,native:r.value,short_names:v.value,short_name:d.value,id:c.value,uniqueId:l.value,_data:u.value,_skins:e.value,getSkin:function(o){return o&&o!="native"&&e.value?e.value[o-1]:w},getPosition:function(){return`${+(100/60*t.sheet[0]).toFixed(2)}% ${+(100/60*t.sheet[1]).toFixed(2)}%`},ariaLabel:function(){return[r.value].concat(v.value).filter(Boolean).join(", ")}};return w}function We(s,m={}){const u=(r=>{var v;if(!r.compressed)return r;const d={};for(const w in r.emojis){const o=r.emojis[w],a={};a._=o._;for(const n in se){const h=se[n];h in o&&(a[n]=o[h])}a.short_names=[w,...a.short_names||[]],a.text??(a.text=""),a.skin_variations={};for(const n in o.v){const h=n,j=o.v[h];a.skin_variations[h]={unified:j.b,added_in:j.o,image:j.i,sheet:j.k,has:((v=j.z)==null?void 0:v.map(p=>Ee[p]))||[]}}a.search=ne(a),d[w]=a}return r.compressed=0,r.emojis=d,r})(s),e=m.emojisToShowFilter,t=y({}),c=y({}),l=y({}),E=y([]),k=y({id:"custom",name:"Custom",emojis:[]}),x=y([]);function i(r){u.aliases.hasOwnProperty(r)&&(r=u.aliases[r]);const v=t.value[r];if(!v)throw new Error("Cannot find emoji by id: "+r);return v}function g(r){return u.aliases.hasOwnProperty(r)&&(r=u.aliases[r]),!!t.value[r]}function S(r){const v={...r,id:r.short_names[0],custom:!0};v.search||(v.search=ne(v));const d=$(v);return t.value[d.id]=d,k.value.emojis.push(d),d}function C(r,v){const d=$(v);if(w=d,!e||e(w)){var w;if(t.value[r]=d,d.native&&(c.value[d.native]=d),d._skins)for(const o of d._skins)o.native&&(c.value[o.native]=o);if(d.emoticons)for(const o of d.emoticons)l.value[o]||(l.value[o]=d.id);return d}}return function(){let{include:r,exclude:v,custom:d,recent:w,recentLength:o}=m;d=d||[],w=w||ce().get(o||20);const a={id:"recent",name:"Recent",emojis:[]};let n=u.categories;function h(p){const f=!r?.length||r.includes(p),b=!!v?.length&&v.includes(p);return f&&!b}r&&(n=n.filter(p=>r.includes(p.id)),n.sort((p,f)=>r.indexOf(p.id)-r.indexOf(f.id)));const j=Object.entries(u.emojis);for(const p of n){if(!h(p.id))continue;const f={id:p.id,name:p.name,emojis:[]},b=p.emojis.map(L=>j.find(q=>q[1]._==L));for(const L of b){if(!L)continue;const q=C(L[0],L[1]);q&&f.emojis.push(q)}f.emojis.length&&E.value.push(f)}h("custom")&&(d.length>0&&d.forEach(S),k.value.emojis.length&&E.value.push(k.value)),h("recent")&&(w.length&&w.forEach(p=>{const f=k.value.emojis.find(b=>b.id===p);f?a.emojis.push(f):g(p)&&a.emojis.push(i(p))}),a.emojis.length&&E.value.unshift(a))}(),x.value=Object.values(t.value),U(t,()=>{x.value=Object.values(t.value)}),{emojis:t.value,emoticons:l.value,categories:E.value,emoji:i,firstEmoji:function(){const r=t.value[Object.keys(t.value)[0]];if(!r)throw new Error("Cannot get first emoji");return r},hasEmoji:g,nativeEmoji:function(r){return c.value[r]||null},addCustomEmoji:S,search:function(r,v){const d=r.toLowerCase(),w=x.value.map(o=>[o,o._data.search.indexOf(d)]).filter(o=>o[1]!==-1);return w.sort((o,a)=>o[1]-a[1]==0?o[0].id.localeCompare(a[0].id):o[1]-a[1]),w.map(o=>o[0]).slice(0,v)},addEmoji:C,findEmoji:function(r,v){const d=r.match(/^(?::([^:]+):)(?::skin-tone-(\d):)?$/);if(d&&(r=d[1],d[2]&&(v=parseInt(d[2],10))),u.aliases.hasOwnProperty(r)&&(r=u.aliases[r]),t.value.hasOwnProperty(r)){const w=t.value[r];return v?w.getSkin(v):w}return c.value.hasOwnProperty(r)?c.value[r]:null}}}export{de as Anchors,ue as CategoryEmojis,me as Emoji,ve as Picker,ve as default,$ as useEmojiData,We as useEmojiIndex,Q as useEmojiUI};
